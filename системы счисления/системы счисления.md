# Вопросы и задания

## Вводная
- Что такое система счисления? Зачем она вообще нам?
- *Какие виды бывают? 

## Непозиционные СС

### Римская СС
Перевод между римской СС и привычной десятичной: 
- 97 - CVII
- 2312 - MMCCCXII
- 1912 - MDCDXII,
- 927 - CMXXVII,
- 672 - DCLXXII,
- 2436 - MMMCDXXX,
- 3999 - MMMCMXCIX,

Сложить:
- CDX + DCV = CCDDXV
- DCCCVII + MCCCXII = 87 + 1312 = 1399 = MMCXIX
- CMXXVII + CXXXIV = 927 + 934 = 9

## Позиционные СС
- В каком разряде находится цифра x в числе $\overline{axcde}$ (по номеру и по названию)?
- Перевести из любой другой позиционной системы в десятичную.
- Перевести из десятичной в другую.

# Зачет 

## Var1
1. Что такое система счисления? 
2. Что такое **Непозиционная** система счисления?
3. 1325 в египетской СС.
4. CMXXVII + MCCCXLII = ?. (ответ также в римской).
5. $1401_5 = ?_{10}$
6. $453_10 = ?_{9}$
7. $FAC_{16} = ?_2$
8. $101011_{2} = ?_8$
9. 

## Var2
1. Что такое система счисления?
2. Что такое **Позиционная** система счисления?
3. 2105 в египетской СС.
4. DCCCVII + CXXXIV = ?. (ответ также в римской).
5. $1032_4 = ?_{10}$
6. $2400_{10} = ?_3$
7. $743_{8} = ?_2$
8. $11000101_{2} = ?_{16}$
9.

## Ответы var1
4. 1969 = MCMLXIX
5. $226_{10}$

## Ответы var2
4. 671 = DCLXXI
5. $114_{10}$


# Теория

## Вводная (1)
**Система счисления (СС)** - совокупность приемов и правил для записи чисел цифровыми знаками.

Среди систем счисления принято выделять:
- Позиционные.
- Непозиционные.

**Непозиционная система счисления** – система, для которой значение символа не зависит от его положения в числе.

## Непозиционные СС (1)
### Унарная
Самый простой пример: унарная система - запись любого числа n просто n-ным количеством одинаковых символов. 
Это простейшая система счисления известна нам ещё с древних времен и используется нами по сей день. Как? Когда мы загибаем пальцы на руке, чтобы показать, например, количество людей в комнате, то по сути используем именно эту систему счисления. *Можно на примере людей на паре или количества отрядов*
Однако записать с помощью такой системы счисления достаточно большие числа сложно. Да и прочитать тоже.


### Египетская
Другой пример непозиционной системы счисления является египетская. Там в качестве цифр были степени 10: от одного до миллиона. 

![egyptian number system](the-egyptian-number-system.jpg)

### Римская
Римскую СС также относят к непозиционным (хотя и с оговоркой). Ей мы пользуемся и сейчас, хоть и редко. Сегодня она используется в основном для обозначения знаменательных и юбилейных дат, разделов и глав в книгах. Например с её помощью часто обознают номера веков.

В ней есть следующие цифры:
|римская цифра|арабское число|
|-|-|
|I| 1|	
|V| 5|
|X|	10|
|L| 50|
|C| 100|
|D| 500|
|M| 1000|

При записи есть такие правила:
1. Символы I, X, C и M могут повторяться до трех раз. Например, III представляет число 3, а XXX — 30.
2. Символы V, L и D не могут повторяться. Писать VV для обозначения 10 - неправильно.
3. если меньшая цифра стоит перед большей, то она меньшая берется со знаком минус, т.е. вычитается из большей. 
Например число 4 записывали как IV. В такой записи меньшая цифра (I) стоит перед большей (V), поэтому она вычитается из неё. По причине наличия этого правила нельзя считать римскую систему счисления полностью непозиционной.


**Задания на перевод между римской и десятичной**


В чем проблемы римской СС? (Можно конечно и на подумать дать этот вопрос, но тут уж как пойдёт. )
Проблемы римской (как и египесткой СС) в том, что:
- чтобы записывать большие числа нужно вводить всё новые и новые цифры.
- сложно выполнять арифметические операции.
- можно записывать только натуральные числа (что делать с дробными, отрицательными или хотя-бы нулем?).

## Позиционные СС (2)
Доска: **Позиционная система счисления** - система, в которой значение цифры (её вес), полностью определяется её местом (позицией) в числе.

Пример позиционной системы счисления - привычная нам десятичная СС. 
В числе 657, цифра 6 обозначает сотни (600), цифра 5 - десятки(50), цифра 7 - единицы.

657 = 6 * 100 + 5 * 10 + 7


**Алфавит СС** - используемый в CC набор цифр (символов).

Любая позиционная система характеризуется основанием.

**Основание** позиционной системы счисления – количество знаков или символов, используемых в алфавите.

В случае десятичной оно, внезапно, равно 10.


**Разряд** - позиция цифры в записи числа. Разряды в записи целых чисел нумеруются с нуля справа налево.

Пример: В числе 357, `3` стоит во втором разряде (сотни, $10^3$) и т.д.

Т.е. $357 = 3*10^2 + 5*10^1 + 7 * 10^0$

Это так называемая **развернутая форма записи числа**

В общем случае целое положительное число А в позиционной СС мож­но представить выражением:

$А = a_n p^n + a_{n-1} p^{n-1} + a_{n-2} p^{n-2} + ... + a_1 p^1 + a_0 p^0 = \sum_{k=0}^{n}{a_k p^k}$, где p - основание СС, k - номер разряда, $a_k$ - цифра в k-м разряде (точнее её количественный эквивалент, т.е. то, какое количество обозначает цифра), 

Обозначения цифр берут из алфавита, который содержит р символов. Каждой цифре соответствует определенный количественный эквивалент. Так например цифра `1` - обозначает что-то в количестве один. Не два и не три, а именно один.
Вроде бы для нас это очевидно. Но если заменить привычные нам знаки на другие. Например, на то, как то же количество обозначается в арабском, то уже не так просто сказать, какой символ какому количеству соотвествует. 

![Арабские цифры](arabic_digits.png)
Забавно, что цифры, которые мы ежедневно используем, называются `арабскими`, но при этом в арабском пишуться они по другому.

Но вернемся к представлению чисел в СС.
Запись $А_{(p)}$ указывает, что число $А$ представлено в СС с основанием $р$. Так, например по записи $243_{10}$ понятно, что число записано в десятичной системе счисления.


### Перевод в десятичную СС (2)
А что же с другими СС, помимо десятичной? Например возьмем восьмиричную. Т.е. в ней всего 8 цифр (0,1,2,3,4,5,6,7). 
Для неё все также справедлива предыдущая формула. Например число $123_8$ можно представить как $1*8^2 + 2*8^1 + 3*8^0$. И если вычислить значение по этой формуле как мы привыкли - в десятичной СС, то получиться $64_{10}+16_{10}+3_{10}=83_{10}$ Ничего странного в этом нет. Просто $83_{10} = 123_{8}$. Т.е. число одно и тоже, но записывается по разному. 

Только что был пример того, как из другой позиционной СС переводить в 10-ную.

**задания**


### Перевод из десятичной СС (2)
В обратную сторону переводить делать чуть сложнее. Нужно как-то получить цифры. Раз все цифры можно найти из развернутой формы записи числа, то можно просто привести число к этой форме.

Можно переписать эту формулу в более удобном для нашей задачи виде:

$A = a_n p^n + a_{n-1} p^{n-1} + a_{n-2} p^{n-2} + ... + a_1 p^1 + a_0 p^0 = (... ((a_n p + a_{n-1}) p + a_{n-2}) p + ... + a_1) p + a_0 $

Тут уже более наглядно видно что нужно делать, чтобы найти цифры числа:
1. Для самой правой цифры всё просто, вдеь она меньше основания p, а остальная часть чилса на p делиться. Т.е. чтобы получить самую правую цифру нужно найти остаток от деления числа на p.
2. Теперь вычтем из A нашу цифру и поделим результат на p. Получиться $(... ((a_n p + a_{n-1}) p + a_{n-2}) p + ... + a_1)$.
3. Теперь также как и в п.1 можно найти следующую цифру $a_1$. 

По этому алгоритму мы и идем пока не дойдем до состояния, когда цифр больше не будет, т.е. оставшееся число меньше p.


Рассмотрим на примере перевода числа $352_{10}$ в восьмеричную СС:
1. 352 mod 8 = 0. Получили цифру 0 в самом младшем (правом) разряде.
2. Оставшееся число поделим на 8. (352-0) : 8 = 44. 44 > 8, продолжаем.
3. 44 mod 8 = 4. Получили цифру 4 во втором разряде.
4. Оставшееся число поделим на 8. (44-4) : 8 = 5
5. 5 < 8. Так что самая левая цифра будет 5.

Получили, что $352_{10} = 540_{8}$

**Задания**


### Основание больше 10 (2-3)
До этого момента мы рассматривали только позиционные СС с основанием меньше или равные 10. Но теоретически ничего не мешает нам использоваить и позиционные СС с основанием больше 10. Только нужно придумать как обозначать цифры, следующие после '9'. Для этого принято использовать латинские буквы от A до Z. Наиболее используемой из таких СС является шестнадцатиричная. 

**Задания на перевод между 16-ричной и (10-чной и 2-ичной)**

А что же делать, если требуется основание большее, чем 10+26=36? Ну, тут уже никаких принятых обозначений, насколько я знаю, нет.

## Применение, зачем СС так много? (3)
Зачем же вообще нужно столько разных СС? Дело в том, что они могут быть удобны для разных задач.

### Двоичная система в компьютерах, почему? (3)
Например, двоичная СС используются для представления чисел в компьютере. Но почему же?
На самом деле в начале развития ЭВМ (электронно вычислительной техники) компьютеры могли использовать самые разные системы счисления. Например, некоторые компьютеры использовали привычную нам десятичную СС. Реализованы они были при помощи шестеренок с десятью зубцами. И потенциально использовать то можно было почти любую СС.

Так почему же была выбрана двоичная? Для компьютеров она имеет ряд преимуществ:
- для ее реализации нужны технические устройства с двумя устойчивыми состояниями (есть ток - нет тока, намагничен - не намагничен и т.п.), а не, например, с десятью, - как в десятичной;
- представление информации посредством только двух состояний надежно и помехоустойчиво;
Т.е. за счёт малого количества используемых цифр-состояний она просто оказалась удобнее.

**Задания на числа в двоичной СС**

#### Быстрый перевод между 2 и 2^(n) (3)
Можно было заметить, что двоиные числа нам воспринимать довольно сложно.
Двоичная система, удобная для компьютеров, для человека не так удобна из-за громоздкости записи. Та же особенность двоичной СС, которая позволяет удобно реализовывать арифметику и хранение с помощью электронных компонентов, мешает людям воспринимать такие числа. 
Перевод чисел из десятичной системы в двоичную и наоборот обычно выполняет машина и нам не нужно погружаться в особенности представления внутри неё. Однако в некоторых случаях требуется спуститься на уровень ниже. Но использовать двоичную систему всё равно не хочется, уж слишком числа получаются громоздкие. Что же делать? Для этого можно использовать СС с основанием равным степеням двойки. У них есть замечательное свойство - возможность быстро переводить числа между этими СС и двоичной. Сейчас объясню как и почему.


Возьмем число в двоичной СС и запишем его в развернутой форме: 

$a_n 2^n + a_{n-1} 2^{n-1} + a_{n-2} 2^{n-2} + ... + a_1 2^1 + a_0 2^0$

Теперь припишем слева нули, чтобы колчество цифр в числе делилось на 4 и  объединим цифры в группы по 4, начиная с самой правой. 

$(a_{4k+3} 2^{4k+3} + a_{4k+2} 2^{4k+2} + a_{4k+1} 2^{4k+1} + a_{4k} 2^{4k})+ ... + (a_3 2^3 + a_2 2^2 + a_1 2^1 + a_0 2^0)$

$(a_{4k+3} 2^3 + a_{4k+2} 2^2 + a_{4k+1} 2^1 + a_{4k} 2^0) * 2^{4k} + ... + (a_3 2^3 + a_2 2^2 + a_1 2^1 + a_0 2^0)$

$(a_{4k+3} 2^3 + a_{4k+2} 2^2 + a_{4k+1} 2^1 + a_{4k} 2^0) * 2^{4k} + ... + (a_3 2^3 + a_2 2^2 + a_1 2^1 + a_0 2^0) * 2^{4*0}$

$(a_{4k+3} 2^3 + a_{4k+2} 2^2 + a_{4k+1} 2^1 + a_{4k} 2^0) * 16^k + ... + (a_3 2^3 + a_2 2^2 + a_1 2^1 + a_0 2^0) * 16^{0}$

Можно заметить, что у нас получилось развернутая форма hex числа. Осталось получить цифры (в скобках). Но их, благо, всего 16 вариантов.

|hex|bin|
|-|----|
|0|0000|
|1|0001|
|2|0010|
|3|0011|
|4|0100|
|5|0101|
|6|0110|
|7|0111|
|8|1000|
|9|1001|
|A|1010|
|B|1011|
|C|1100|
|D|1101|
|E|1110|
|F|1111|



### Симметричные позиционные СС (4-5)

#### Метод математической индукции (Надо бы рассказать, если не знают)
Для следующей темы нужно следать небольшое отсупление, а именно рассказать про математическую индукцию. 
Есть такая аксиома - аксиома иднукции. Звучит она так:
Если какое-либо предположение доказано для 1 (база индукции) и если из допущения, что оно верно для натурального числа 
n, вытекает, что оно верно для следующего за n натурального числа (индукционное предположение), то это предположение верно для всех натуральных чисел.

Способ доказательства математических утверждений с помощью
принципа математической индукции называется методом математической
индукции, который состоит в следующем:
1. Проверяют истинность утверждения при n =1 – первый шаг
доказательства (база индукции).
2. Допускают, что утверждение справедливо при n = k , где k –
произвольное натуральное число, и доказывают, что тогда
утверждение верно и при n = k + 1 – второй шаг доказательства (индукционный шаг). 

Если обе части доказательства проведены, то утверждение истинно для всех натуральных n.

Теперь пример на пальцах: хотим доказать формулу для суммы чисел от 1 до n - $1+2+3+...+(n-1)+n = \frac{n*(n+1)}{2}$.

1. База индукции (для n=1)- 1 = $\frac{1*2}{2}$
2. Шаг индукции - мы предполагаем, что для n=k формула работает:
$1+2+...+k = \frac{k*(k+1)}{2}$

И пробуем доказать её для n=k+1 (что $1+2+3+...+(k-1)+k+(k+1) = \frac{(k+1)((k+1)+1)}{2}$).

$1+2+3+...+(k-1)+k+(k+1) = \frac{k*(k+1)}{2} + (k+1)$

$ = (k+1)*(\frac{k}{2} + \frac{2}{2}) = (k+1)(\frac{k+2}{2}) = \frac{(k+1)((k+1)+1)}{2}$

Ура, доказали!

**Задачи**


#### Собственно троично-симметричная СС


<!-- Продолжаем тему того, что разные СС могут быть использованы для разных задач. -->

До этого мы говорили только о позиционных СС, где все цифры больше или равны 0, но в общем-то никто не запрещает использовать и другие цифры. Так сейчас хочу рассказать о троично-симметричной СС. 

Раз она троичная, то имеет основание равное 3 и соотвественно цифр там 3. Но вот только это не привычные нам цифры, обозначающие количества {0,1,2}, а {-1,0,1}. Потому она и называется троично-**симметричной**. В симметричных СС у каждой цифры(ну, кроме 0) есть отрицательная пара - симметричная относительно 0. 
Цифру, количественные эквивалент которой равен $-1$ принято записывать как $\overline{1}$.
Давайте покажу несколько чисел, записанных в этой СС (нужно их перевести в десятичную):
- ${110\overline{1}}_3 = {35}_{10}$
- ${\overline{1}11\overline{1}}_3 = {-16}_{10}$
- ${1\overline{1}\overline{1}1}_3 = {16}_{10}$

Тут мы видим одну интересную особенность - для представления отрицательных чисел, нам не нужен знак перед числом. А знак числа поменять довольно просто - поменять все цифры числа на противоположные.

#### Представление всех чисел в ТССС
Может показаться, что при такой записи могут вохникать "дырки", т.е. такие случаи, что два числа пожно записать с помощью всего n разрядок, а для числа между ними уже понадобиться больше. Но это не правда! (Сейчас мне кажется важным это доказать, а там нужно смотреть по тому, как себя дети поведут)

Давайте докажем, что все числа от ${(-\frac{3^n-1}{2})}$ до ${\frac{3^n-1}{2}}$ можно представить с помощью числа в такой системе с n разрядами. 
Доказательство по индукции:
- База (n=1) - Числа от ${(-\frac{3^1-1}{2})}$ до ${\frac{3^1-1}{2}}$, (т.е. от $-1$ до $1$) можно представить с помощью числа с 1 разрядом. Ну тут всё очевидно.

- Переход. Предположим, что все числа от ${(-\frac{3^k-1}{2})}$ до ${\frac{3^k-1}{2}}$ можно представить с помощью числа в такой системе с k разрядами.
- эти же числа можно записать с помощью k+1 разрядов, приписав к ним 0 слева.
- Числа от ${(-\frac{3^{k+1}-1}{2})}$ до ${(-\frac{3^k-1}{2})}$ можно записать как -3^(k) + числа из предположения (приписать $\overline{1}$ слева)
- Числе от ${(\frac{3^k-1}{2})}$ до ${(-\frac{3^{k+1}-1}{2})}$ можно записать как +3^(k) + числа из предположения (приписать $1$ слева)

Доказали.

Всего чисел в этом промежутке будет ${\frac{3^n-1}{2}} - {(-\frac{3^n-1}{2})} + 1 = \frac{3^n - 1 + 3^n - 1 + 2}{2} = 3^n$

Всего с помощью n разрядного числа в ТССС можно записать $3^n$ чисел. Т.е. в такой записи также нет "дырок".


#### Зачем оно кому-то нужно? 

Странная СС. Зачем она понадобилась? Самое известное её применение - задача о взвешивании. Звучит она, в общем случае, так: 
Требуется найти наименьшее количество гирь для взвешивания на двухчашечных весах груза массой от 1 до G, при этом гири можно было располагать на любой из чаш весов. 

И оказалось, что для, например, G=40 достаточно гирь с весами 1,3,9,27 (ну просто перебрали варианты). Тут уже можно заметить вес гирь является степенями тройки. Может и так будет и дальше, но надо только понять почему...

Давайте попробуем уравновесить груз массой 35 этими гирями (ответ: гири 27 и 9 на противоположной чаше от груза и 1 на той же)


А теперь давайте посмортим на то, как меняется разница между весами на правой и левой чашах (назовем это число d), при постановке грузиков:
Если на правую чашу весов поставить гирю массой m, то d увеличиться на m,
а если ту же гирю поставить на левую чашу, то d уменьшиться на m.

Что же будет, если массы всех гирь будут степенями тройки? Тогда d будет иметь вид: 

$a_0 * 3^0 + a_1 * 3^1 + ... + a_n * 3^n$, где каждая из $a_i$ равна:
- 1 если гиря массой $a_i$ лежит на правой чаше,
- -1 если гиря массой $a_i$ лежит на левой чаше,
- 0 если гиря массой $a_i$ не положили ни на одну из чаш.

Можно заметить, что это не что иное, как развернутая форма записи числа в троично-симметричной СС.


**Из** троично-симметичной СС мы уже переводили, это не сложно.
Теперь надо понять как переводить **в** трочино-симметричную СС.

Удивительно, но $2 · 3^m = 3^{m+1} + \overline{1} * 3^m$
А это значит, что каждую цифру 2 в обычной троичной записи $2_3$ можно записать как $1\overline{1}_{3}$ в троично-симметричной СС.

А значит для перевода в ТССС можно сначала перевести число в обычную троичную СС, а потом последовательно заменить 2 в разрядах на $1\overline{1}$.

Более формально алгоритм такой (идем справа налево):
- встречаем `2` и нечего переносить из младшего разряда - пишем $\overline{1}$ и переносим в старший разряд 1.
- встречаем `2` и был перенос - пишем $\overline{1}$ и  переносим в старший разряд 1.
- встечаем `0` и переноса не было - ставим 0.
- встечаем `0` и был перенос - ставим 1.
- встечаем `1` и ничего не надо переносить из младшего разряда - оставляем 1
- встечаем `1` и был перенос - ставим $\overline{1}$ и переносим в старший разряд 1.

Если осталось 

Давайте попробуем на примере числа $16_{10}$.
1. $16_{10} = 121_3$
2. $121| \rightarrow 12|1 \rightarrow 1^1|\overline{1}1 \rightarrow \ ^1\overline{11}1 \rightarrow 1\overline{11}1$

получили $1\overline{11}1_{s3}$, давайте проверим, что правильно перевели.

$1\overline{11}1_{s3} = (1*3^3 + (-1)*3^2 + (-1)*3^1 + 1*3^0)_{10} = (27 - 9 - 3 + 1)_{10} = 16_{10}$

Теперь попробуйте сами перевести число $29$

#### Небольшая вставка
Интересный факт: была даже попытка делать компьютеры на основе ТССС. А именно: в 1959 году в вычислительном центре МГУ спроектирована малая ЭВМ «Сетунь», выпущена в 46 экземплярах.
Вообще-то существуют и другие уравновшенные (симметричные) СС, в том числе с четными основаниями (там нет 0), но они используются ещё реже чем ТССС


## Дробные числа в позиционных СС и их округление (5)
Как же они записываются в позиционных СС?
Про запись в десятичной СС нам уже известно. Но что же делать в двоичной, восьмеричной и т.д.?
Для этого вренемся к расширенной форме числа и попробуем обощить. 
Например число $2,34$ можно записать как $2 * 10^0 + 3 * 10^{-1} + 4 * 10^{-2}$
Т.е. расширенная форма дробного числа выглядит так:

$А = a_n p^n + a_{n-1} p^{n-1} + a_{n-2} p^{n-2} + ... + a_1 p^1 + a_0 p^0 + a_{-1} p^{-1} + ... + a_{-m} p^{-m} = \sum_{k=m}^{n}{a_k p^k}$, где цифры $a_k$ с $k<0$ - стоят после запятой в записи.

### Перевод в dec
Так же это работает и для чисел в других СС. Давайте попробуем перевести дробные числа из других СС в десятичную СС

$1,101_{2} = (1 * 2^0 + 1 * 2^{-1} + 0 * 2^{-2} + 1 * 2^{-3})_{10} = 1 + \frac{1}{2} + \frac{1}{8} = 1 + 0,5 + 0,125 = 1,625_{10}$

$A,B_{16} = (10 * 16^0 + 11 * 16^{-1})_{10} = 10 + \frac{11}{16} = 10 + 0,6875 = 10,6875_{10}$


**Задания**

### Перевод из dec
Перевод дробных чисел из десятичной СС стоит проводить в 2 этапа: отдельно перевести целую часть и отдельно дробную. Мы уже знаем как перевести целую часть числа.
Так вот рассмотрим её расширенную форму отдельно.

$a_{-1} p^{-1} + ... + a_{-m} p^{-m}$

Если умножить на p, то в целой части будет только первая цифра после запятой изначального числа.

$a_{-1} p^{-1} + ... + a_{-m} p^{-m} * p = a_{-1} + (a_{-2} p^{-1} + ... + a_{-m} p^{-m+1})$

Запишем эту цифру и отбросим её.

После этого проделаем так ещё несколько раз, пока не получим нужного количества разрядов после запятой или целое число.

Пример: перевод в двоичную СС числа $0,375_{10}$
- $0,375 * 2 = \bold{0},75$
- $0,75 * 2 = \bold{1},5$
- $0,5 * 2 = \bold{1},0$

Получилось, что $0,625_{10} = 0,011_2$. Можно проверить с помощью обратного перевода.

**Задание**

### Периодические дроби при переводе
Попробуем перевести дробь $0,3_{10}$ в двоичную СС.
- $0,3 * 2 = \bold{0},6$
- $0,6 * 2 = \bold{1},2$
- $0,2 * 2 = \bold{0},4$
- $0,4 * 2 = \bold{0},8$
- $0,8 * 2 = \bold{1},6$ 
Можно заметить, что в дробной части оказалось то же число, что и на предыдущем (первом) шаге. А значит дальше полученные цифры будут повторяться.
Значит мы получили двоичную периодическую дробь.
Такое бывает и при переводе в обратную сторону: в десятичной системе 2/9 это периодическая дробь $0,66666..._{10}$, а в троичной - непериодическая дробь $0,2_{3}$

**Задания**

### Округление
Лишние знаки отбрасываются по правилу: если первая отбрасываемая цифра больше или равна p/2, то последняя сохраняемая цифра увеличивается на единицу.
**Задания**